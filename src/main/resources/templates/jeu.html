<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Bob le Bricoleur</title>
<!-- <link rel="stylesheet" href="style.css"/> -->
<link rel="stylesheet" href="src/css/style.css"/>
<link rel="icon" type="image/gif" href="img/house.png"/>
</head>
<body>
    <!-- <div class="container" >
        <p th:text="${ressource.nom}"></p>
    </div> -->
    <!-- <form action="/recolte" method="post">
        <input type="hidden" name="id" value="8" />
        <input type="hidden" name="resistanceInit" value="10" />
        <p>Résistance : <span th:text="${resistance}">10</span></p>
        <input type="submit" value="Arbre" />
    </form> -->
     <main class="container">   
        <div id="modalParametre" class="modalParametre">
            <form class="modalParametre__formHome" action="#" th:action="@{/go_home6}" method="post" id="flogo">
                <button class="modalParametre__button" id="btnlogo" type="submit">
                    <img class="modalParametre__imgHome" src="img/house.png" alt="house" id="logo">
                    <span class="modalParametre__text">Accueil</span>
                </button>
            </form>
            <form class="modalParametre__formCompte" action="#" th:action="@{/retour_compte2}" method="post" id="retourCompteForm">
                <button class="modalParametre__button" id="retourCompteBtn" type="submit">
                    <img class="modalParametre__imgSexe" th:if="${personnage.sexe == 1}" src="img/homme.png" alt="" id="retourHomme">
                    <img class="modalParametre__imgSexe" th:if="${personnage.sexe == 2}" src="img/femme.png" alt="" id="retourFemme">
                    <span class="modalParametre__text">Gérer son compte</span>
                </button>
            </form>
        </div>
        <div class="paramForm">
            <button id="paramForm" class="paramForm__button"><img class="paramForm__icon" src="img/icon/iconParam.png" alt=""></button>
        </div>             
        <div class="map">
            <form class="map__form map__form--maison" action="">
                <button class="map__button"><img class="map__image map__image--maison" src="img/Maison.png" alt=""></button>
            </form>
            <form class="map__form map__form--porte" action="">
                <button class="map__button"><img class="map__image" src="porte.png" alt=""></button>
            </form> 

            <div class="map__form map__form--arbre" th:unless="${tabObjetRecoltableDTO.getObjetsRecoltables(0).pv == 0}">
                <form class="map__form map__form--arbre"  th:action="@{/recolte}" action="#" method="post" th:object="${tabObjetRecoltableDTO}">
                    <input type="hidden" name="index" value="0"/>
                    <button type="submit" class="map__button"><img class="map__image map__image--arbre" src="img/arbre.png" alt=""></button>
                    <p th:text="*{getObjetsRecoltables(0).pv}"></p>
                </form>
            </div>
            <div class="map__form map__form--arbre" th:if="${tabObjetRecoltableDTO.getObjetsRecoltables(0).pv == 0}">
                <img class="map__image map__image--arbre" src="/img/CheneOuSequoiaCoupe.png" alt="arbre coupé">
            </div>
            <form class="map__form map__form--poisson" action="">
                <button class="map__button"><img class="map__image map__image--poisson" src="img/poisson.png" alt=""></button>
            </form>
            <form class="map__form map__form--rocher" action="">
                <button class="map__button"><img class="map__image map__image--rocher" src="img/rocher.png" alt=""></button>
            </form>
            <form class="map__form map__form--caillou" action="">
                <button class="map__button"><img class="map__image map__image--caillou" src="img/caillou.png" alt=""></button>
            </form>
        </div>
        <div class="interface">
                <button class="interface__button" id="InventaireButton">
                    <img class="interface__img" src="img/Inventaire.png" alt="inventaire">
                    <p class="interface__text">Inventaire</p>
                </button>
                <button class="interface__button" id="RecetteButton">
                    <img class="interface__img" src="img/livre.png" alt="Recettes">
                    <p class="interface__text">Recettes</p>
                </button>
                <button class="interface__button" id="CardButton">
                    <img class="interface__img" src="img/carte.png" alt="Carte">
                    <p class="interface__text">Carte</p>
                </button>
                <button class="interface__button">
                    <img src="" alt="">
                    <p></p>
                </button> 
        </div>

        <div id="modalRecette" class="modalRecette">
            <form th:action="@{/recetteOutils}">
                <button class="modalRecette__buttons" id="modalRecette__buttons">Outils</button>
            </form>
            <form th:action="@{/recetteMeubles}">
                <button class="modalRecette__buttons" id="modalRecette__buttons">Meubles</button>
            </form>
            <form th:action="@{/recetteDecos}">
                <button class="modalRecette__buttons" id="modalRecette__buttons">Décorations</button>
            </form>  

            <div th:fragment="recetteOutils" id="modalOutils" class="modalRecette__onglet">
                <article th:each="outil : ${outils}">
                    <h2 th:text="${outil.nom}">Nom de l'outil</h2>
                    <p th:text="${outil.img}"></p>
                    <div th:each="recette : ${outil.recette}">
                        <p th:text="${recette.ressource.nom}">Recette 1</p>
                        <p th:text="${recette.ressource.img}"></p>
                    </div>
                    <a th:href="@{singleRecette(id=${outil.id})}">Voir recette</a>
                </article>
            </div>

            <div th:fragment="recetteMeubles" id="modalMeuble" class="modalRecette__onglet">
                <article th:each="meuble : ${meubles}">
                    <h2 th:text="${meuble.nom}"></h2>
                    <div th:each="recette : ${meuble.recette}">
                        <p th:text="${recette.ressource.nom}">Recette 1</p>
                    </div>
                    <a th:href="@{singleRecette(id=${meuble.id})}">Voir recette</a>
                </article>
            </div>

            <div th:fragment="recetteDecos" id="modalDeco" class="modalRecette__onglet">
                <article th:each="deco : ${decorations}">
                    <h2 th:text="${deco.nom}"></h2>
                    <div th:each="recette : ${deco.recette}">
                        <p th:text="${recette.ressource.nom}">Recette 1</p>
                    </div>
                    <a th:href="@{singleRecette(id=${deco.id})}">Voir recette</a>
                </article>
            </div>
        </div>

        <div id="modalInventaire" class="modalInventaire">

            <form th:action="@{/modalInventaireRessource}">
                <button class="modalInventaire__button">Ressources</button>
            </form>
            <form th:action="@{/modalInventaireObjet}">
                <button class="modalInventaire__button">Objet</button>
            </form>

            <div th:fragment="modalInventaireRessource" id="modalInventaireRessource" class="modalInventaireRessource">
                <article th:each="Iressource : ${Iressources}">
                    <p th:text="${Iressource.ressource.nom}"></p>
                    <p th:text="${Iressource.quantite}"></p>
                </article>
            </div>   
            
            <div th:fragment="modalInventaireObjet" id="modalInventaireObjet" class="modalInventaireObjet">
                <article th:each="Iobjet : ${Iobjets}">
                    <p th:text="${Iobjet.objet.nom}"></p>
                    <p th:text="${Iobjet.quantite}"></p>
                    <form action="#" th:object="${Iobjet}" th:action="@{/Equiper} + '?id=' + ${Iobjet.objet.id}" method="POST">
                        <button>Equiper l'objet</button>
                    </form>
                </article>
            </div>    
        </div>
    </main>
    <script src="jeu.js"></script>
</body>

</html>